{"version":3,"sources":["components/Table/index.js","components/Search/index.js","hooks/useDebounce.js","components/App/index.js","index.js"],"names":["reducer","state","action","type","column","data","reverse","direction","sort","a","b","col","cmpr","Error","items","color","initialState","useReducer","dispatch","useEffect","Table","striped","celled","sortable","Header","Row","HeaderCell","textAlign","sorted","onClick","Body","map","i","name","guests","side","gift","formattedGift","toFixed","replace","formattedAverage","key","Cell","Footer","colSpan","length","reduce","c","useState","loading","value","results","setState","debouncedValue","delay","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","prev","filter","el","includes","Input","fluid","icon","iconPosition","placeholder","onChange","e","target","brit","require","wedding","maya","event","setEvent","eventParams","Container","Divider","hidden","as","Icon","circular","Segment","Button","Search","ReactDOM","render","App","document","getElementById"],"mappings":"68nCAKMA,EAAU,SAACC,EAAOC,GACvB,OAAQA,EAAOC,MACd,IAAK,cACJ,OAAIF,EAAMG,SAAWF,EAAOE,OACpB,2BACHH,GADJ,IAECI,KAAMJ,EAAMI,KAAKC,UACjBC,UAA+B,cAApBN,EAAMM,UAA4B,aAAe,cAIvD,CACNH,OAAQF,EAAOE,OACfC,KAAK,YAAKJ,EAAMI,KAAKG,MAAK,SAACC,EAAGC,GAAJ,OAfjB,SAACD,EAAGC,EAAGC,GAAP,OAAgBF,EAAEE,GAAOD,EAAEC,IAAQ,EAAIF,EAAEE,GAAOD,EAAEC,GAAO,EAAI,EAelCC,CAAKH,EAAGC,EAAGR,EAAOE,YACtDG,UAAW,aAGb,IAAK,YACJ,OAAO,2BAAKN,GAAZ,IAAmBI,KAAMH,EAAOG,OACjC,QACC,MAAM,IAAIQ,QAIE,cAAuB,IAApBC,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,MAClBC,EAAe,CAAEZ,OAAQ,KAAMC,KAAMS,EAAOP,UAAW,MADzB,EAEVU,qBAAWjB,EAASgB,GAFV,mBAE7Bf,EAF6B,KAEtBiB,EAFsB,KAG5Bd,EAA4BH,EAA5BG,OAAQC,EAAoBJ,EAApBI,KAAME,EAAcN,EAAdM,UAMtB,OAJAY,qBAAU,WACTD,EAAS,CAAEf,KAAM,YAAaE,KAAMS,MAClC,CAACA,IAGH,kBAACM,EAAA,EAAD,CAAOC,SAAO,EAACC,QAAM,EAACC,UAAQ,EAACR,MAAOA,GACrC,kBAACK,EAAA,EAAMI,OAAP,KACC,kBAACJ,EAAA,EAAMK,IAAP,KACC,kBAACL,EAAA,EAAMM,WAAP,CACCC,UAAU,SACVC,OAAmB,MAAXxB,EAAiBG,EAAY,KACrCsB,QAAS,kBAAMX,EAAS,CAAEf,KAAM,cAAeC,OAAQ,QAHxD,KAOA,kBAACgB,EAAA,EAAMM,WAAP,CACCC,UAAU,SACVC,OAAmB,SAAXxB,EAAoBG,EAAY,KACxCsB,QAAS,kBAAMX,EAAS,CAAEf,KAAM,cAAeC,OAAQ,WAHxD,8CAOA,kBAACgB,EAAA,EAAMM,WAAP,CACCC,UAAU,SACVC,OAAmB,WAAXxB,EAAsBG,EAAY,KAC1CsB,QAAS,kBAAMX,EAAS,CAAEf,KAAM,cAAeC,OAAQ,aAHxD,iEAOA,kBAACgB,EAAA,EAAMM,WAAP,CACCC,UAAU,SACVC,OAAmB,SAAXxB,EAAoBG,EAAY,KACxCsB,QAAS,kBAAMX,EAAS,CAAEf,KAAM,cAAeC,OAAQ,WAHxD,gBAOA,kBAACgB,EAAA,EAAMM,WAAP,CACCC,UAAU,SACVC,OAAmB,SAAXxB,EAAoBG,EAAY,KACxCsB,QAAS,kBAAMX,EAAS,CAAEf,KAAM,cAAeC,OAAQ,WAHxD,qDAOA,kBAACgB,EAAA,EAAMM,WAAP,CAAkBC,UAAU,UAA5B,mEAIF,kBAACP,EAAA,EAAMU,KAAP,KACEzB,EAAK0B,KAAI,WAA+BC,GAAO,IAAnCC,EAAkC,EAAlCA,KAAMC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,KAAMC,EAAc,EAAdA,KAC1BC,EAAgBD,EAAKE,QAAQ,GAAGC,QAAQ,oBAAqB,OAAS,SACtEC,EAAmBN,GACrBE,EAAOF,GAAQI,QAAQ,GAAGC,QAAQ,oBAAqB,OAAS,SACjEF,EAEH,OACC,kBAACjB,EAAA,EAAMK,IAAP,CAAWgB,IAAKT,GACf,kBAACZ,EAAA,EAAMsB,KAAP,CAAYf,UAAU,UAAUK,EAAI,GACpC,kBAACZ,EAAA,EAAMsB,KAAP,CAAYf,UAAU,UAAUM,GAChC,kBAACb,EAAA,EAAMsB,KAAP,CAAYf,UAAU,UAAUO,GAChC,kBAACd,EAAA,EAAMsB,KAAP,CAAYf,UAAU,UAAUQ,GAAQ,KACxC,kBAACf,EAAA,EAAMsB,KAAP,CAAYf,UAAU,UAAUU,GAChC,kBAACjB,EAAA,EAAMsB,KAAP,CAAYf,UAAU,UAAUa,QAMpC,kBAACpB,EAAA,EAAMuB,OAAP,KACC,kBAACvB,EAAA,EAAMK,IAAP,KACC,kBAACL,EAAA,EAAMM,WAAP,CAAkBkB,QAAQ,IAAIjB,UAAU,UAAxC,WAID,kBAACP,EAAA,EAAMK,IAAP,KACC,kBAACL,EAAA,EAAMsB,KAAP,CAAYf,UAAU,UAAUb,EAAM+B,QACtC,kBAACzB,EAAA,EAAMsB,KAAP,CAAYf,UAAU,UAAtB,KACA,kBAACP,EAAA,EAAMsB,KAAP,CAAYf,UAAU,UACpBb,EAAMgC,QAAO,SAACrC,EAAGsC,GAAJ,OAAUtC,EAAIsC,EAAEb,SAAQ,IAEvC,kBAACd,EAAA,EAAMsB,KAAP,CAAYf,UAAU,UAAtB,KACA,kBAACP,EAAA,EAAMsB,KAAP,CAAYf,UAAU,UACpBb,EACCgC,QAAO,SAACrC,EAAGsC,GAAJ,OAAUtC,EAAIsC,EAAEX,OAAM,GAC7BE,QAAQ,GACRC,QAAQ,oBAAqB,OAJhC,UAOA,kBAACnB,EAAA,EAAMsB,KAAP,CAAYf,UAAU,WAEpBb,EAAMgC,QAAO,SAACrC,EAAGsC,GAAJ,OAAUtC,EAAIsC,EAAEX,OAAM,GACnCtB,EAAMgC,QAAO,SAACrC,EAAGsC,GAAJ,OAAUtC,EAAIsC,EAAEb,SAAQ,IAEpCI,QAAQ,GACRC,QAAQ,oBAAqB,OANhC,cCnHU,cAAgB,IAAbzB,EAAY,EAAZA,MAAY,EAEHkC,mBADL,CAAEC,SAAS,EAAOC,MAAO,GAAIC,QAAS,KAD9B,mBAEtBlD,EAFsB,KAEfmD,EAFe,KAGvBC,ECPQ,SAACH,EAAOI,GAAW,IAAD,EACYN,mBAASE,GADrB,mBACzBG,EADyB,KACTE,EADS,KAahC,OAVApC,qBAAU,WACT,IAAMqC,EAAUC,YAAW,WAC1BF,EAAkBL,KAChBI,GAEH,OAAO,WACNI,aAAaF,MAEZ,CAACF,EAAOJ,IAEJG,EDNgBM,CAAY1D,EAAMiD,MAAO,KAahD,OAXA/B,qBAAU,WACT,IAAIgC,EACAE,GACHD,GAAS,SAAAQ,GAAI,kCAAUA,GAAV,IAAgBX,SAAS,QACtCE,EAAO,YAAOrC,EAAM+C,QAAO,SAAAC,GAAE,OAAIA,EAAG7B,KAAK8B,SAAS9D,EAAMiD,YAC5CL,QAAQO,GAAS,SAAAQ,GAAI,kCAAUA,GAAV,IAAgBX,SAAS,EAAOE,QAASA,QAE1EC,GAAS,SAAAQ,GAAI,kCAAUA,GAAV,IAAgBT,QAAS,UAErC,CAACE,EAAgBvC,EAAOb,EAAMiD,QAGhC,oCACC,kBAACc,EAAA,EAAD,CACCC,OAAK,EACLhB,QAAShD,EAAMgD,QACfiB,KAAK,SACLC,aAAa,OACbC,YAAY,gEACZlB,MAAOjD,EAAMiD,MACbmB,SAAU,SAAAC,GAAC,OAAIlB,EAAS,2BAAKnD,GAAN,IAAaiD,MAAOoB,EAAEC,OAAOrB,YAGpDjD,EAAMkD,QAAQN,OACd,oCACC,kBAACrB,EAAA,EAAD,CAAQT,MAAM,SAASY,UAAU,UAAjC,wCAGA,kBAAC,EAAD,CAAOb,MAAOb,EAAMkD,QAASpC,MAAM,YAEjC,OEnCDyD,EAAOC,EAAQ,KACfC,EAAUD,EAAQ,KAClBE,EAAOF,EAAQ,KAEN,aAAO,IAAD,EACMzB,mBAAS,WADf,mBACb4B,EADa,KACNC,EADM,KAEdC,EAAc,CACnBJ,QAAS,CACR3D,MAAO,SACPV,KAAMqE,GAEPF,KAAM,CACLzD,MAAO,OACPV,KAAMmE,GAEPG,KAAM,CACL5D,MAAO,SACPV,KAAMsE,IAIR,OACC,kBAACI,EAAA,EAAD,KACC,kBAACC,EAAA,EAAD,CAASC,QAAM,IACf,kBAACzD,EAAA,EAAD,CAAQ0D,GAAG,KAAKvD,UAAU,SAASZ,MAAM,QAAQmD,MAAI,GACpD,kBAACiB,EAAA,EAAD,CAAMlD,KAAK,cAAcmD,UAAQ,IADlC,UAIA,kBAACJ,EAAA,EAAD,CAASC,QAAM,IACf,kBAACI,EAAA,EAAD,CAAS1D,UAAU,UAClB,kBAAC2D,EAAA,EAAD,CAAQvE,MAAO+D,EAAYH,KAAK5D,MAAOc,QAAS,kBAAMgD,EAAS,UAA/D,4BAGA,kBAACS,EAAA,EAAD,CAAQvE,MAAO+D,EAAYN,KAAKzD,MAAOc,QAAS,kBAAMgD,EAAS,UAA/D,4BAGA,kBAACS,EAAA,EAAD,CAAQvE,MAAO+D,EAAYJ,QAAQ3D,MAAOc,QAAS,kBAAMgD,EAAS,aAAlE,mCAID,kBAACG,EAAA,EAAD,CAASC,QAAM,IACf,kBAACM,EAAD,CAAQzE,MAAOgE,EAAYF,GAAOvE,OAClC,kBAACmB,EAAA,EAAD,CAAQT,MAAO+D,EAAYF,GAAO7D,MAAOY,UAAU,UAAnD,iEAGA,kBAAC,EAAD,CAAOb,MAAOgE,EAAYF,GAAOvE,KAAMU,MAAO+D,EAAYF,GAAO7D,U,OC7CpEyE,IAASC,OAAO,kBAACC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.4b8b7943.chunk.js","sourcesContent":["import React, { useReducer, useEffect } from 'react';\nimport { Table } from 'semantic-ui-react';\n\nconst cmpr = (a, b, col) => (a[col] < b[col] ? -1 : a[col] > b[col] ? 1 : 0);\n\nconst reducer = (state, action) => {\n\tswitch (action.type) {\n\t\tcase 'CHANGE_SORT':\n\t\t\tif (state.column === action.column) {\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tdata: state.data.reverse(),\n\t\t\t\t\tdirection: state.direction === 'ascending' ? 'descending' : 'ascending',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tcolumn: action.column,\n\t\t\t\tdata: [...state.data.sort((a, b) => cmpr(a, b, action.column))],\n\t\t\t\tdirection: 'ascending',\n\t\t\t};\n\n\t\tcase 'NEW_ITEMS':\n\t\t\treturn { ...state, data: action.data };\n\t\tdefault:\n\t\t\tthrow new Error();\n\t}\n};\n\nexport default ({ items, color }) => {\n\tconst initialState = { column: null, data: items, direction: null };\n\tconst [state, dispatch] = useReducer(reducer, initialState);\n\tconst { column, data, direction } = state;\n\n\tuseEffect(() => {\n\t\tdispatch({ type: 'NEW_ITEMS', data: items });\n\t}, [items]);\n\n\treturn (\n\t\t<Table striped celled sortable color={color}>\n\t\t\t<Table.Header>\n\t\t\t\t<Table.Row>\n\t\t\t\t\t<Table.HeaderCell\n\t\t\t\t\t\ttextAlign=\"center\"\n\t\t\t\t\t\tsorted={column === '#' ? direction : null}\n\t\t\t\t\t\tonClick={() => dispatch({ type: 'CHANGE_SORT', column: '#' })}>\n\t\t\t\t\t\t#\n\t\t\t\t\t</Table.HeaderCell>\n\n\t\t\t\t\t<Table.HeaderCell\n\t\t\t\t\t\ttextAlign=\"center\"\n\t\t\t\t\t\tsorted={column === 'name' ? direction : null}\n\t\t\t\t\t\tonClick={() => dispatch({ type: 'CHANGE_SORT', column: 'name' })}>\n\t\t\t\t\t\tמוזמנים\n\t\t\t\t\t</Table.HeaderCell>\n\n\t\t\t\t\t<Table.HeaderCell\n\t\t\t\t\t\ttextAlign=\"center\"\n\t\t\t\t\t\tsorted={column === 'guests' ? direction : null}\n\t\t\t\t\t\tonClick={() => dispatch({ type: 'CHANGE_SORT', column: 'guests' })}>\n\t\t\t\t\t\tכמות סועדים\n\t\t\t\t\t</Table.HeaderCell>\n\n\t\t\t\t\t<Table.HeaderCell\n\t\t\t\t\t\ttextAlign=\"center\"\n\t\t\t\t\t\tsorted={column === 'side' ? direction : null}\n\t\t\t\t\t\tonClick={() => dispatch({ type: 'CHANGE_SORT', column: 'side' })}>\n\t\t\t\t\t\tצד\n\t\t\t\t\t</Table.HeaderCell>\n\n\t\t\t\t\t<Table.HeaderCell\n\t\t\t\t\t\ttextAlign=\"center\"\n\t\t\t\t\t\tsorted={column === 'gift' ? direction : null}\n\t\t\t\t\t\tonClick={() => dispatch({ type: 'CHANGE_SORT', column: 'gift' })}>\n\t\t\t\t\t\tסכום מתנה\n\t\t\t\t\t</Table.HeaderCell>\n\n\t\t\t\t\t<Table.HeaderCell textAlign=\"center\">ממוצע לסועד</Table.HeaderCell>\n\t\t\t\t</Table.Row>\n\t\t\t</Table.Header>\n\n\t\t\t<Table.Body>\n\t\t\t\t{data.map(({ name, guests, side, gift }, i) => {\n\t\t\t\t\tconst formattedGift = gift.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,') + '₪';\n\t\t\t\t\tconst formattedAverage = guests\n\t\t\t\t\t\t? (gift / guests).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,') + '₪'\n\t\t\t\t\t\t: formattedGift;\n\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Table.Row key={i}>\n\t\t\t\t\t\t\t<Table.Cell textAlign=\"center\">{i + 1}</Table.Cell>\n\t\t\t\t\t\t\t<Table.Cell textAlign=\"center\">{name}</Table.Cell>\n\t\t\t\t\t\t\t<Table.Cell textAlign=\"center\">{guests}</Table.Cell>\n\t\t\t\t\t\t\t<Table.Cell textAlign=\"center\">{side || '-'}</Table.Cell>\n\t\t\t\t\t\t\t<Table.Cell textAlign=\"center\">{formattedGift}</Table.Cell>\n\t\t\t\t\t\t\t<Table.Cell textAlign=\"center\">{formattedAverage}</Table.Cell>\n\t\t\t\t\t\t</Table.Row>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</Table.Body>\n\n\t\t\t<Table.Footer>\n\t\t\t\t<Table.Row>\n\t\t\t\t\t<Table.HeaderCell colSpan=\"6\" textAlign=\"center\">\n\t\t\t\t\t\tTotals\n\t\t\t\t\t</Table.HeaderCell>\n\t\t\t\t</Table.Row>\n\t\t\t\t<Table.Row>\n\t\t\t\t\t<Table.Cell textAlign=\"center\">{items.length}</Table.Cell>\n\t\t\t\t\t<Table.Cell textAlign=\"center\">-</Table.Cell>\n\t\t\t\t\t<Table.Cell textAlign=\"center\">\n\t\t\t\t\t\t{items.reduce((a, c) => a + c.guests, 0)}\n\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t<Table.Cell textAlign=\"center\">-</Table.Cell>\n\t\t\t\t\t<Table.Cell textAlign=\"center\">\n\t\t\t\t\t\t{items\n\t\t\t\t\t\t\t.reduce((a, c) => a + c.gift, 0)\n\t\t\t\t\t\t\t.toFixed(2)\n\t\t\t\t\t\t\t.replace(/\\d(?=(\\d{3})+\\.)/g, '$&,')}\n\t\t\t\t\t\t₪\n\t\t\t\t\t</Table.Cell>\n\t\t\t\t\t<Table.Cell textAlign=\"center\">\n\t\t\t\t\t\t{(\n\t\t\t\t\t\t\titems.reduce((a, c) => a + c.gift, 0) /\n\t\t\t\t\t\t\titems.reduce((a, c) => a + c.guests, 0)\n\t\t\t\t\t\t)\n\t\t\t\t\t\t\t.toFixed(2)\n\t\t\t\t\t\t\t.replace(/\\d(?=(\\d{3})+\\.)/g, '$&,')}\n\t\t\t\t\t\t₪\n\t\t\t\t\t</Table.Cell>\n\t\t\t\t</Table.Row>\n\t\t\t</Table.Footer>\n\t\t</Table>\n\t);\n};\n","import React, { useState, useEffect } from 'react';\nimport { Input, Header } from 'semantic-ui-react';\nimport useDebounce from 'hooks/useDebounce';\n\nimport Table from 'components/Table';\n\nexport default ({ items }) => {\n\tconst initialState = { loading: false, value: '', results: [] };\n\tconst [state, setState] = useState(initialState);\n\tconst debouncedValue = useDebounce(state.value, 500);\n\n\tuseEffect(() => {\n\t\tlet results;\n\t\tif (debouncedValue) {\n\t\t\tsetState(prev => ({ ...prev, loading: true }));\n\t\t\tresults = [...items.filter(el => el.name.includes(state.value))];\n\t\t\tif (results.length) setState(prev => ({ ...prev, loading: false, results: results }));\n\t\t} else {\n\t\t\tsetState(prev => ({ ...prev, results: [] }));\n\t\t}\n\t}, [debouncedValue, items, state.value]);\n\n\treturn (\n\t\t<>\n\t\t\t<Input\n\t\t\t\tfluid\n\t\t\t\tloading={state.loading}\n\t\t\t\ticon=\"search\"\n\t\t\t\ticonPosition=\"left\"\n\t\t\t\tplaceholder=\"חפש מוזמנים\"\n\t\t\t\tvalue={state.value}\n\t\t\t\tonChange={e => setState({ ...state, value: e.target.value })}\n\t\t\t/>\n\n\t\t\t{state.results.length ? (\n\t\t\t\t<>\n\t\t\t\t\t<Header color=\"purple\" textAlign=\"center\">\n\t\t\t\t\t\tתוצאות\n\t\t\t\t\t</Header>\n\t\t\t\t\t<Table items={state.results} color=\"purple\" />\n\t\t\t\t</>\n\t\t\t) : null}\n\t\t</>\n\t);\n};\n","import { useState, useEffect } from 'react';\n\nexport default (value, delay) => {\n\tconst [debouncedValue, setDebouncedValue] = useState(value);\n\n\tuseEffect(() => {\n\t\tconst handler = setTimeout(() => {\n\t\t\tsetDebouncedValue(value);\n\t\t}, delay);\n\n\t\treturn () => {\n\t\t\tclearTimeout(handler);\n\t\t};\n\t}, [delay, value]);\n\n\treturn debouncedValue;\n};\n","import React, { useState } from 'react';\nimport { Container, Header, Icon, Divider, Button, Segment } from 'semantic-ui-react';\n\nimport Search from 'components/Search';\nimport Table from 'components/Table';\n\nconst brit = require('seed/brit.json');\nconst wedding = require('seed/wedding.json');\nconst maya = require('seed/maya.json');\n\nexport default () => {\n\tconst [event, setEvent] = useState('wedding');\n\tconst eventParams = {\n\t\twedding: {\n\t\t\tcolor: 'violet',\n\t\t\tdata: wedding,\n\t\t},\n\t\tbrit: {\n\t\t\tcolor: 'teal',\n\t\t\tdata: brit,\n\t\t},\n\t\tmaya: {\n\t\t\tcolor: 'orange',\n\t\t\tdata: maya,\n\t\t}\n\t};\n\n\treturn (\n\t\t<Container>\n\t\t\t<Divider hidden />\n\t\t\t<Header as=\"h1\" textAlign=\"center\" color=\"olive\" icon>\n\t\t\t\t<Icon name=\"dollar sign\" circular />\n\t\t\t\tJUBBOT\n\t\t\t</Header>\n\t\t\t<Divider hidden />\n\t\t\t<Segment textAlign=\"center\">\n\t\t\t\t<Button color={eventParams.maya.color} onClick={() => setEvent('maya')}>\n\t\t\t\t\tמאיה\n\t\t\t\t</Button>\n\t\t\t\t<Button color={eventParams.brit.color} onClick={() => setEvent('brit')}>\n\t\t\t\t\tברית\n\t\t\t\t</Button>\n\t\t\t\t<Button color={eventParams.wedding.color} onClick={() => setEvent('wedding')}>\n\t\t\t\t\tחתונה\n\t\t\t\t</Button>\n\t\t\t</Segment>\n\t\t\t<Divider hidden />\n\t\t\t<Search items={eventParams[event].data} />\n\t\t\t<Header color={eventParams[event].color} textAlign=\"center\">\n\t\t\t\tכל המוזמנים\n\t\t\t</Header>\n\t\t\t<Table items={eventParams[event].data} color={eventParams[event].color} />\n\t\t</Container>\n\t);\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from 'components/App';\nimport 'semantic-ui-css/semantic.min.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}