{"version":3,"sources":["components/Table/index.js","components/Search/index.js","hooks/useDebounce.js","components/App/index.js","index.js"],"names":["reducer","state","action","type","column","data","reverse","direction","sort","a","b","col","cmpr","Error","items","color","initialState","useReducer","dispatch","useEffect","Table","striped","celled","sortable","Header","Row","HeaderCell","textAlign","sorted","onClick","Body","map","i","name","guests","side","gift","formattedGift","toFixed","replace","formattedAverage","key","Cell","Footer","colSpan","length","reduce","c","useState","loading","value","results","setState","debouncedValue","delay","setDebouncedValue","handler","setTimeout","clearTimeout","useDebounce","filter","el","includes","Input","fluid","icon","iconPosition","placeholder","onChange","e","target","brit","require","wedding","event","setEvent","eventParams","Container","Divider","hidden","as","Icon","circular","Segment","Button","Search","ReactDOM","render","App","document","getElementById"],"mappings":"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","file":"static/js/main.768266a4.chunk.js","sourcesContent":["import React, { useReducer, useEffect } from 'react';\r\nimport { Table } from 'semantic-ui-react';\r\n\r\nconst cmpr = (a, b, col) => (a[col] < b[col] ? -1 : a[col] > b[col] ? 1 : 0);\r\n\r\nconst reducer = (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase 'CHANGE_SORT':\r\n\t\t\tif (state.column === action.column) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...state,\r\n\t\t\t\t\tdata: state.data.reverse(),\r\n\t\t\t\t\tdirection: state.direction === 'ascending' ? 'descending' : 'ascending',\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tcolumn: action.column,\r\n\t\t\t\tdata: [...state.data.sort((a, b) => cmpr(a, b, action.column))],\r\n\t\t\t\tdirection: 'ascending',\r\n\t\t\t};\r\n\r\n\t\tcase 'NEW_ITEMS':\r\n\t\t\treturn { ...state, data: action.data };\r\n\t\tdefault:\r\n\t\t\tthrow new Error();\r\n\t}\r\n};\r\n\r\nexport default ({ items, color }) => {\r\n\tconst initialState = { column: null, data: items, direction: null };\r\n\tconst [state, dispatch] = useReducer(reducer, initialState);\r\n\tconst { column, data, direction } = state;\r\n\r\n\tuseEffect(() => {\r\n\t\tdispatch({ type: 'NEW_ITEMS', data: items });\r\n\t}, [items]);\r\n\r\n\treturn (\r\n\t\t<Table striped celled sortable color={color}>\r\n\t\t\t<Table.Header>\r\n\t\t\t\t<Table.Row>\r\n\t\t\t\t\t<Table.HeaderCell\r\n\t\t\t\t\t\ttextAlign=\"center\"\r\n\t\t\t\t\t\tsorted={column === '#' ? direction : null}\r\n\t\t\t\t\t\tonClick={() => dispatch({ type: 'CHANGE_SORT', column: '#' })}>\r\n\t\t\t\t\t\t#\r\n\t\t\t\t\t</Table.HeaderCell>\r\n\r\n\t\t\t\t\t<Table.HeaderCell\r\n\t\t\t\t\t\ttextAlign=\"center\"\r\n\t\t\t\t\t\tsorted={column === 'name' ? direction : null}\r\n\t\t\t\t\t\tonClick={() => dispatch({ type: 'CHANGE_SORT', column: 'name' })}>\r\n\t\t\t\t\t\tמוזמנים\r\n\t\t\t\t\t</Table.HeaderCell>\r\n\r\n\t\t\t\t\t<Table.HeaderCell\r\n\t\t\t\t\t\ttextAlign=\"center\"\r\n\t\t\t\t\t\tsorted={column === 'guests' ? direction : null}\r\n\t\t\t\t\t\tonClick={() => dispatch({ type: 'CHANGE_SORT', column: 'guests' })}>\r\n\t\t\t\t\t\tכמות סועדים\r\n\t\t\t\t\t</Table.HeaderCell>\r\n\r\n\t\t\t\t\t<Table.HeaderCell\r\n\t\t\t\t\t\ttextAlign=\"center\"\r\n\t\t\t\t\t\tsorted={column === 'side' ? direction : null}\r\n\t\t\t\t\t\tonClick={() => dispatch({ type: 'CHANGE_SORT', column: 'side' })}>\r\n\t\t\t\t\t\tצד\r\n\t\t\t\t\t</Table.HeaderCell>\r\n\r\n\t\t\t\t\t<Table.HeaderCell\r\n\t\t\t\t\t\ttextAlign=\"center\"\r\n\t\t\t\t\t\tsorted={column === 'gift' ? direction : null}\r\n\t\t\t\t\t\tonClick={() => dispatch({ type: 'CHANGE_SORT', column: 'gift' })}>\r\n\t\t\t\t\t\tסכום מתנה\r\n\t\t\t\t\t</Table.HeaderCell>\r\n\r\n\t\t\t\t\t<Table.HeaderCell textAlign=\"center\">ממוצע לסועד</Table.HeaderCell>\r\n\t\t\t\t</Table.Row>\r\n\t\t\t</Table.Header>\r\n\r\n\t\t\t<Table.Body>\r\n\t\t\t\t{data.map(({ name, guests, side, gift }, i) => {\r\n\t\t\t\t\tconst formattedGift = gift.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,') + '₪';\r\n\t\t\t\t\tconst formattedAverage = guests\r\n\t\t\t\t\t\t? (gift / guests).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,') + '₪'\r\n\t\t\t\t\t\t: formattedGift;\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<Table.Row key={i}>\r\n\t\t\t\t\t\t\t<Table.Cell textAlign=\"center\">{i + 1}</Table.Cell>\r\n\t\t\t\t\t\t\t<Table.Cell textAlign=\"center\">{name}</Table.Cell>\r\n\t\t\t\t\t\t\t<Table.Cell textAlign=\"center\">{guests}</Table.Cell>\r\n\t\t\t\t\t\t\t<Table.Cell textAlign=\"center\">{side || '-'}</Table.Cell>\r\n\t\t\t\t\t\t\t<Table.Cell textAlign=\"center\">{formattedGift}</Table.Cell>\r\n\t\t\t\t\t\t\t<Table.Cell textAlign=\"center\">{formattedAverage}</Table.Cell>\r\n\t\t\t\t\t\t</Table.Row>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</Table.Body>\r\n\r\n\t\t\t<Table.Footer>\r\n\t\t\t\t<Table.Row>\r\n\t\t\t\t\t<Table.HeaderCell colSpan=\"6\" textAlign=\"center\">\r\n\t\t\t\t\t\tTotals\r\n\t\t\t\t\t</Table.HeaderCell>\r\n\t\t\t\t</Table.Row>\r\n\t\t\t\t<Table.Row>\r\n\t\t\t\t\t<Table.Cell textAlign=\"center\">{items.length}</Table.Cell>\r\n\t\t\t\t\t<Table.Cell textAlign=\"center\">-</Table.Cell>\r\n\t\t\t\t\t<Table.Cell textAlign=\"center\">\r\n\t\t\t\t\t\t{items.reduce((a, c) => a + c.guests, 0)}\r\n\t\t\t\t\t</Table.Cell>\r\n\t\t\t\t\t<Table.Cell textAlign=\"center\">-</Table.Cell>\r\n\t\t\t\t\t<Table.Cell textAlign=\"center\">\r\n\t\t\t\t\t\t{items\r\n\t\t\t\t\t\t\t.reduce((a, c) => a + c.gift, 0)\r\n\t\t\t\t\t\t\t.toFixed(2)\r\n\t\t\t\t\t\t\t.replace(/\\d(?=(\\d{3})+\\.)/g, '$&,')}\r\n\t\t\t\t\t\t₪\r\n\t\t\t\t\t</Table.Cell>\r\n\t\t\t\t\t<Table.Cell textAlign=\"center\">\r\n\t\t\t\t\t\t{(\r\n\t\t\t\t\t\t\titems.reduce((a, c) => a + c.gift, 0) /\r\n\t\t\t\t\t\t\titems.reduce((a, c) => a + c.guests, 0)\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t.toFixed(2)\r\n\t\t\t\t\t\t\t.replace(/\\d(?=(\\d{3})+\\.)/g, '$&,')}\r\n\t\t\t\t\t\t₪\r\n\t\t\t\t\t</Table.Cell>\r\n\t\t\t\t</Table.Row>\r\n\t\t\t</Table.Footer>\r\n\t\t</Table>\r\n\t);\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Input, Header } from 'semantic-ui-react';\r\nimport useDebounce from 'hooks/useDebounce';\r\n\r\nimport Table from 'components/Table';\r\n\r\nexport default ({ items }) => {\r\n\tconst initialState = { loading: false, value: '', results: [] };\r\n\tconst [state, setState] = useState(initialState);\r\n\tconst debouncedValue = useDebounce(state.value, 500);\r\n\r\n\tuseEffect(() => {\r\n\t\tlet results;\r\n\t\tif (debouncedValue) {\r\n\t\t\tsetState({ ...state, loading: true });\r\n\t\t\tresults = [...items.filter(el => el.name.includes(state.value))];\r\n\t\t\tif (results.length) setState({ ...state, loading: false, results: results });\r\n\t\t} else {\r\n\t\t\tsetState({ ...state, results: [] });\r\n\t\t}\r\n\t}, [debouncedValue]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Input\r\n\t\t\t\tfluid\r\n\t\t\t\tloading={state.loading}\r\n\t\t\t\ticon=\"search\"\r\n\t\t\t\ticonPosition=\"left\"\r\n\t\t\t\tplaceholder=\"חפש מוזמנים\"\r\n\t\t\t\tvalue={state.value}\r\n\t\t\t\tonChange={e => setState({ ...state, value: e.target.value })}\r\n\t\t\t/>\r\n\r\n\t\t\t{state.results.length ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Header color=\"purple\" textAlign=\"center\">\r\n\t\t\t\t\t\tתוצאות\r\n\t\t\t\t\t</Header>\r\n\t\t\t\t\t<Table items={state.results} color=\"purple\" />\r\n\t\t\t\t</>\r\n\t\t\t) : null}\r\n\t\t</>\r\n\t);\r\n};\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport default (value, delay) => {\r\n\tconst [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst handler = setTimeout(() => {\r\n\t\t\tsetDebouncedValue(value);\r\n\t\t}, delay);\r\n\r\n\t\treturn () => {\r\n\t\t\tclearTimeout(handler);\r\n\t\t};\r\n\t}, [delay, value]);\r\n\r\n\treturn debouncedValue;\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Container, Header, Icon, Divider, Button, Segment } from 'semantic-ui-react';\r\n\r\nimport Search from 'components/Search';\r\nimport Table from 'components/Table';\r\n\r\nconst brit = require('seed/brit.json');\r\nconst wedding = require('seed/wedding.json');\r\n\r\nexport default () => {\r\n\tconst [event, setEvent] = useState('wedding');\r\n\tconst eventParams = {\r\n\t\twedding: {\r\n\t\t\tcolor: 'violet',\r\n\t\t\tdata: wedding,\r\n\t\t},\r\n\t\tbrit: {\r\n\t\t\tcolor: 'teal',\r\n\t\t\tdata: brit,\r\n\t\t},\r\n\t};\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<Divider hidden />\r\n\t\t\t<Header as=\"h1\" textAlign=\"center\" color=\"olive\" icon>\r\n\t\t\t\t<Icon name=\"dollar sign\" circular />\r\n\t\t\t\tJUBBOT\r\n\t\t\t</Header>\r\n\t\t\t<Divider hidden />\r\n\t\t\t<Segment textAlign=\"center\">\r\n\t\t\t\t<Button color={eventParams.brit.color} onClick={() => setEvent('brit')}>\r\n\t\t\t\t\tברית\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button color={eventParams.wedding.color} onClick={() => setEvent('wedding')}>\r\n\t\t\t\t\tחתונה\r\n\t\t\t\t</Button>\r\n\t\t\t</Segment>\r\n\t\t\t<Divider hidden />\r\n\t\t\t<Search items={eventParams[event].data} />\r\n\t\t\t<Header color={eventParams[event].color} textAlign=\"center\">\r\n\t\t\t\tכל המוזמנים\r\n\t\t\t</Header>\r\n\t\t\t<Table items={eventParams[event].data} color={eventParams[event].color} />\r\n\t\t</Container>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from 'components/App';\r\nimport 'semantic-ui-css/semantic.min.css';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}